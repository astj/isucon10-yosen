(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{CuDu:function(t,e,n){"use strict";n.r(e);var a=n("o0o1"),r=n.n(a),i=n("HaE+"),c=n("q1tI"),u=n.n(c),s=n("nOHt"),l=n("hlFM"),o=n("r9w1"),d=n("Z3vd"),p=n("kKAo"),h=n("Ji2X"),m=n("R/WZ"),f=n("ZBNC"),b=n("Qb08"),w=n("jRsZ"),g=n("eomm"),j=n.n(g),v=u.a.createElement,y=Object(m.a)((function(t){return Object(f.a)({page:{margin:t.spacing(2),padding:t.spacing(4)}})})),O=Object(m.a)((function(t){return Object(f.a)({column:{marginTop:t.spacing(4),marginBottom:t.spacing(4)},row:{"&>*":{margin:t.spacing(2)}},thumbnailContainer:{height:270},thumbnail:{height:"100%"},cards:{display:"flex",flexWrap:"wrap",justifyContent:"space-between"}})})),N=function(t){var e=t.chair,n=t.lowPricedEstates,a=O(),s=Object(c.useRef)(null),p=Object(c.useState)(""),h=p[0],m=p[1],f=Object(c.useCallback)(Object(i.a)(r.a.mark((function t(){var n,a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(null!==(n=null===(a=s.current)||void 0===a?void 0:a.value)&&void 0!==n?n:"")){t.next=4;break}return m("Invalid email address format."),t.abrupt("return");case 4:return t.next=6,fetch("/api/chair/buy/".concat(e.id),{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",mode:"cors",body:JSON.stringify({email:null===(c=s.current)||void 0===c?void 0:c.value})}).then(function(){var t=Object(i.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e.status.toString(),t.next=3,e.text();case 3:return t.t1=t.sent,t.abrupt("return",t.t0+t.t1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then(m).catch((function(t){return m(t.message)}));case 6:case"end":return t.stop()}}),t)}))),[e.id]);return v(u.a.Fragment,null,v(l.a,{width:1,className:"".concat(a.column," ").concat(a.thumbnailContainer),display:"flex",justifyContent:"center"},v("img",{src:e.thumbnail,alt:"\u30a4\u30b9\u306e\u753b\u50cf",className:a.thumbnail})),e.id&&v(l.a,{width:1,className:a.row,display:"flex",alignItems:"center"},v("h2",{style:{wordBreak:"keep-all"}},"\u8cfc\u5165:"),v(o.a,{label:"Email address",inputRef:s,fullWidth:!0}),v(d.a,{variant:"contained",color:"primary",onClick:f}," Submit "),h&&v("p",null," ",h," ")),v(l.a,{width:1,className:a.column},v("h2",null,"\u3053\u306e\u30a4\u30b9\u306b\u3064\u3044\u3066"),v("p",null,"\u540d\u524d: ",e.name),v("p",null,"\u8aac\u660e: ",e.description),v("p",null,"\u5024\u6bb5: ",e.price,"\u5186"),v("p",null,"\u8272: ",e.color),v("p",null,"\u7a2e\u985e: ",e.kind)),v(l.a,{width:1,className:a.column},v("h3",null,"\u30a4\u30b9\u306e\u30b5\u30a4\u30ba"),v("ul",null,v("li",null,"\u7e26 (cm) : ",e.height),v("li",null,"\u6a2a (cm) : ",e.width),v("li",null,"\u5965 (cm) : ",e.depth))),v(l.a,{width:1,className:a.column},v("h3",null,"\u3053\u3060\u308f\u308a\u6761\u4ef6:"),""===e.features?"\u306a\u3057":e.features.split(",").map((function(t,e){return v("p",{key:e},t)}))),v(l.a,{width:1,className:a.column},v("h3",null,"\u3053\u306e\u30a4\u30b9\u306b\u30aa\u30b9\u30b9\u30e1\u306e\u7269\u4ef6:"),v(l.a,{width:1,className:a.cards},n.map((function(t,e){return v(w.a,{key:e,estate:t})})))))};e.default=function(){var t=Object(c.useState)(null),e=t[0],n=t[1],a=Object(c.useState)(200),u=a[0],l=a[1],o=Object(c.useState)(null),d=o[0],m=o[1],f=Object(s.useRouter)(),w=Array.isArray(f.query.id)?f.query.id[0]:f.query.id,g=y();return Object(c.useEffect)((function(){w&&(fetch("/api/chair/".concat(w.toString()),{mode:"cors"}).then(function(){var t=Object(i.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return 200!==e.status&&l(e.status),t.next=3,e.json();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(t){return n(t)})).catch((function(t){throw t})),fetch("/api/recommended_estate/".concat(w.toString()),{mode:"cors"}).then(function(){var t=Object(i.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(t){return m(t.estates)})).catch((function(t){throw t})))}),[w]),w?200!==u?v(j.a,{statusCode:u}):v(p.a,{className:g.page},v(h.a,{maxWidth:"md"},e&&d?v(N,{chair:e,lowPricedEstates:d}):v(b.a,null))):v(j.a,{statusCode:404,title:"Page /chair/detail is required id query like /chair/detail?id=1"})}},dpGm:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chair/detail",function(){return n("CuDu")}])},jRsZ:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var a=n("q1tI"),r=n.n(a),i=n("YFqc"),c=n.n(i),u=n("30+C"),s=n("lFIR"),l=n("Ie8z"),o=n("oa/T"),d=n("R/WZ"),p=n("ZBNC"),h=r.a.createElement,m=Object(d.a)((function(t){return Object(p.a)({cardContainer:{margin:t.spacing(1),width:270,minWidth:270,height:270},card:{width:"100%",height:"100%"},cardMedia:{width:"100%",height:120}})})),f=function(t){var e=t.estate,n=m();return h(c.a,{href:"/estate/detail?id=".concat(e.id)},h(u.a,{className:n.cardContainer},h(s.a,{component:"div",disableRipple:!0,className:n.card},h(l.a,{className:n.cardMedia,image:e.thumbnail,title:e.name}),h(o.a,null,h("h3",null,e.name),h("p",null,"\u4f4f\u6240: ",e.address),h("p",null,"\u5bb6\u8cc3: ",e.rent,"\u5186")))))}}},[["dpGm",2,1,0,4,3,5,7,6,8,11]]]);